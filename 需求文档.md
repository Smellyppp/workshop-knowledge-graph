# 用户管理模块需求文档

## 1. 文档概述

### 1.1 文档目的

本文档用于描述单系统用户管理模块的功能性与非功能性需求，作为毕业设计级别系统中核心模块之一，为后端（FastAPI）与前端（Vue）的设计、开发、测试与验收提供统一依据。

### 1.2 适用范围

本模块适用于单体 Web 系统，不涉及单点登录（SSO）、多系统用户中心或第三方身份认证。

### 1.3 技术选型约束

* 后端语言：Python
* 后端框架：FastAPI
* 前端框架：Vue
* 关系型数据库：MySQL
* 通信协议：HTTP / HTTPS（RESTful API）
* 数据格式：JSON

## 2. 业务背景与目标

### 2.1 业务背景

用户管理模块是系统的基础模块，负责系统用户的身份信息维护、认证与授权控制，为系统中其他业务模块提供统一的用户基础数据和访问控制能力。

### 2.2 建设目标

* 实现用户的完整生命周期管理（创建、查询、修改、禁用、删除）
* 提供安全、可控的用户登录与身份校验机制
* 提供可扩展的数据结构，满足后续功能扩展需要

## 3. 系统角色定义

| 角色名称       | 说明              |
| ---------- | --------------- |
| 管理员（Admin） | 负责用户、角色的管理与系统配置 |
| 普通用户（User1） | 仅能访问被授权的业务功能    |
| 普通用户（User2） | 仅能访问被授权的业务功能    |

## 4. 功能需求

### 4.1 用户信息管理

#### 4.1.1 用户基本信息

用户基础字段：

* 用户ID（主键）
* 用户名（唯一）
* 密码（加密存储）
* 状态（启用 / 禁用）
* 创建时间
* 更新时间

#### 4.1.2 用户新增

* 仅管理员可新增用户
* 用户名必须唯一
* 初始密码支持系统默认或手动设置
* 新用户默认状态为“启用”

#### 4.1.3 用户查询

* 支持按用户名、角色、状态进行条件查询
* 支持分页查询
* 普通用户仅能查询自身信息

#### 4.1.4 用户修改

* 管理员可修改任意用户密码
* 普通用户仅可修改自身的密码
* 其他信息不可修改

#### 4.1.5 用户状态管理

* 支持用户启用与禁用
* 被禁用用户禁止登录系统

#### 4.1.6 用户删除

* 仅管理员可删除用户
* 删除方式采用逻辑删除（推荐）

### 4.2 登录与认证功能

#### 4.2.1 用户登录

* 登录方式：用户名 + 密码
* 密码需进行加盐哈希存储与校验
* 登录成功返回访问令牌（Token）

#### 4.2.2 身份认证机制

* 采用基于 Token（如 JWT）的认证方式
* Token 需包含用户ID、用户名、角色信息
* Token 具有有效期

#### 4.2.3 用户登出

* 前端清除本地 Token
* 后端可选实现 Token 黑名单机制（非强制）


### 4.4 前端功能需求（Vue）

#### 4.4.1 页面列表

* 登录页
* 用户管理页（管理员）
* 用户详情 / 编辑页

#### 4.4.2 功能要求

* 表单校验（必填、格式校验）
* 分页与条件查询
* 异常信息提示
* 登录态保持（LocalStorage / SessionStorage）

## 5. 后端接口需求（FastAPI）

### 5.1 接口设计原则

* RESTful 风格
* 接口路径语义清晰
* 使用 HTTP 状态码表达结果

### 5.2 核心接口示例

| 接口名称   | 方法     | 路径              | 说明     |
| ------ | ------ | --------------- | ------ |
| 用户登录   | POST   | /api/auth/login | 用户登录   |
| 获取用户列表 | GET    | /api/users      | 用户分页查询 |
| 新增用户   | POST   | /api/users      | 新增用户   |
| 修改用户   | PUT    | /api/users/{id} | 修改用户信息 |
| 删除用户   | DELETE | /api/users/{id} | 删除用户   |

## 6. 数据库设计需求（MySQL）

### 6.1 用户表（user）

| 字段名        | 类型           | 说明          |
| ---------- | ------------ | ----------- |
| id         | BIGINT       | 主键          |
|user_type   |TINYINT      |用户类型（1管理员，0普通用户）|
| username   | VARCHAR(50)  | 用户名（唯一）     |
| password   | VARCHAR(255) | 密码（加密）      |
| status     | TINYINT      | 状态（1启用，0禁用） |
| created_at | DATETIME     | 创建时间        |
| updated_at | DATETIME     | 更新时间        |



## 7. 非功能性需求

### 7.1 安全性

* 密码禁止明文存储
* 接口需进行身份校验与权限校验

### 7.2 性能要求

* 普通查询响应时间 < 1 秒
* 支持至少千级用户规模

### 7.3 可维护性

* 后端分层清晰（Router / Service / DAO）
* 前后端接口文档化（如 Swagger）

## 8. 约束与说明

* 本模块为毕业设计级别，功能以完整性与规范性为主
* 不考虑分布式、高并发与复杂安全攻防场景

## 9. 验收标准

* 所有核心功能可正常使用
* 前后端接口联调通过
* 数据库设计符合第三范式基本要求
* 项目结构清晰
* 代码简洁清晰，可维护性强，不冗余